{% load static %}

<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Target Map</title>
  <link href="{% static 'targets/styles.css' %}" rel="stylesheet">

</head>

<body>
  <h1>Target Map</h1>
  <button onclick="openModal()">New Target</button>
  <div id="map"></div>

  <!-- Modal -->
  <div id="modalBackdrop"></div>
  <div id="targetModal">
    <h2 id="modalTitle">New Target</h2>
    <form id="targetForm">

      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>

      <label for="latitude">Latitude:</label>
      <input type="number" step="any" id="latitude" name="latitude" required>

      <label for="longitude">Longitude:</label>
      <input type="number" step="any" id="longitude" name="longitude" required>

      <label for="expiration_date">Expiration Date:</label>
      <input type="date" id="expiration_date" name="expiration_date" required>

      <button type="button" onclick="saveTarget()">Save</button>
      <button type="button" onclick="closeModal()">Cancel</button>
    </form>
  </div>
</body>

<script src="{% static '/targets/js/maps.js' %}"></script>
<script src="{% static '/targets/js/targets.js' %}"></script>
<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCkMdmf8lTGIkLpcmEeXtUBA_SuzFJiBPQ&callback=initMap"></script>
<script>
  var csrfToken = '{{ csrf_token }}';
</script>
<script id="targetsData" type="application/json">
  {{ targets|safe }}
</script>


</html>